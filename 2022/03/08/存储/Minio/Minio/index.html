

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="FF666">
  <meta name="keywords" content="">
  
    <meta name="description" content="独立服务 MinIO is a High Performance Object Storage released under GNU Affero General Public License v3.0. It is API compatible with Amazon S3 cloud storage service. Use MinIO to build high performance in">
<meta property="og:type" content="article">
<meta property="og:title" content="MinIO">
<meta property="og:url" content="http://www.ff666.cn/2022/03/08/%E5%AD%98%E5%82%A8/Minio/Minio/index.html">
<meta property="og:site_name" content="urnuas">
<meta property="og:description" content="独立服务 MinIO is a High Performance Object Storage released under GNU Affero General Public License v3.0. It is API compatible with Amazon S3 cloud storage service. Use MinIO to build high performance in">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://uranus.ff666.cn/images/image-20220310114412349.png">
<meta property="article:published_time" content="2022-03-08T09:00:00.000Z">
<meta property="article:modified_time" content="2022-03-10T03:44:18.270Z">
<meta property="article:author" content="FF666">
<meta property="article:tag" content="MinIO">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://uranus.ff666.cn/images/image-20220310114412349.png">
  
  
  <title>MinIO - urnuas</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hint.css@2/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"www.ff666.cn","root":"/","version":"1.8.14","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":2},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 6.0.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>urnuas</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="MinIO">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2022-03-08 17:00" pubdate>
        2022年3月8日 下午
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      9.2k 字
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      77 分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">MinIO</h1>
            
              <p class="note note-info">
                
                  本文最后更新于：2022年3月10日 中午
                
              </p>
            
            <div class="markdown-body">
              <h1 id="独立服务"><a href="#独立服务" class="headerlink" title="独立服务"></a>独立服务</h1><ul>
<li><a target="_blank" rel="noopener" href="http://docs.minio.org.cn/docs/">MinIO</a> is a <strong>High Performance Object Storage</strong> released under GNU Affero General Public License v3.0. It is API compatible with Amazon S3 cloud storage service. Use MinIO to build <strong>high performance infrastructure</strong> for machine learning, analytics and application data workloads.</li>
</ul>
<h2 id="容器安装"><a href="#容器安装" class="headerlink" title="容器安装"></a>容器安装</h2><ul>
<li><p>Use the following commands to run a <strong>standalone MinIO server</strong> as a container.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><pre><code class="hljs bash">docker run \<br>  -p 9000:9000 \<br>  -p 9001:9001 \<br>  --name minio \<br>  -v /opt/data:/data \<br>  -e <span class="hljs-string">&quot;MINIO_ROOT_USER=admin&quot;</span> \<br>  -e <span class="hljs-string">&quot;MINIO_ROOT_PASSWORD=admin1234&quot;</span> \<br>  -d \<br>  quay.io/minio/minio server /data --console-address <span class="hljs-string">&quot;:9001&quot;</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>Standalone MinIO servers</strong> are best suited for early <strong>development and evaluation</strong>. Certain features such as versioning, object locking, and <strong>bucket replication</strong> require <strong>distributed deploying MinIO</strong> with <strong>Erasure Coding</strong>.</p>
</li>
<li><p>For <strong>extended development</strong> and <strong>production</strong>, deploy MinIO with <strong>Erasure Coding</strong> enabled - specifically,<br>with a minimum of <strong>4 drives per MinIO server</strong>.</p>
</li>
<li><p>You can connect using any S3-compatible tool, such as the MinIO Client <code>mc</code> commandline tool. See <a target="_blank" rel="noopener" href="https://docs.min.io/#test-using-minio-client-mc">Test using MinIO Client </a> <code>mc</code> for more information on using the <code>mc</code> commandline tool. For application developers, see <a target="_blank" rel="noopener" href="https://docs.min.io/docs/">https://docs.min.io/docs/</a> and click <strong>MinIO SDKs</strong> in the navigation to view MinIO SDKs for supported languages.</p>
</li>
</ul>
<blockquote>
<p>To deploy MinIO on with persistent storage, you must map local persistent directories from the host OS to the container using the <code>podman -v</code> option. For example, <code>-v /mnt/data:/data</code> maps the host OS drive at <code>/mnt/data</code> to <code>/data</code> on the container.</p>
</blockquote>
<h2 id="GNU-x2F-Linux"><a href="#GNU-x2F-Linux" class="headerlink" title="GNU&#x2F;Linux"></a>GNU&#x2F;Linux</h2><ul>
<li><p>Use the following command to run a <strong>standalone MinIO server</strong> on Linux hosts running 64-bit Intel&#x2F;AMD architectures. Replace <code>/data</code> with the path to <strong>the drive or directory</strong> in which you want MinIO <strong>to store data</strong>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ wget https://dl.min.io/server/minio/release/linux-amd64/minio<br>$ <span class="hljs-built_in">chmod</span> +x minio<br>$ ./minio server /data<br></code></pre></td></tr></table></figure>
</li>
<li><p>The MinIO deployment starts using default root credentials <code>minioadmin:minioadmin</code>. </p>
<ul>
<li>You can test the deployment using the <strong>MinIO Console</strong>, an embedded web-based object browser built into MinIO Server. Point a web browser running on the host machine to <a target="_blank" rel="noopener" href="http://127.0.0.1:9000/">http://127.0.0.1:9000</a> and log in with the root credentials. You can use the Browser to create buckets, upload objects, and browse the contents of the MinIO server.</li>
<li>You can also connect using any S3-compatible tool, such as the MinIO Client <code>mc</code> <strong>commandline tool</strong>. See <a target="_blank" rel="noopener" href="https://docs.min.io/#test-using-minio-client-mc">Test using MinIO Client </a> <code>mc</code> for more information on using the <code>mc</code> commandline tool. For application developers, see <a target="_blank" rel="noopener" href="https://docs.min.io/docs/">https://docs.min.io/docs/</a> and click <strong>MinIO SDKs</strong> in the navigation to view MinIO SDKs for supported languages.</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>Standalone MinIO servers</strong> are best suited for early development and evaluation. Certain features such as versioning, object locking, and bucket replication require <strong>distributed deploying MinIO</strong> with <strong>Erasure Coding</strong>. For extended development and production, deploy MinIO with Erasure Coding enabled - specifically, with a <em>minimum</em> of 4 drives per MinIO server. See <a target="_blank" rel="noopener" href="https://docs.min.io/docs/minio-erasure-code-quickstart-guide.html">MinIO Erasure Code Quickstart Guide</a> for more complete documentation.</p>
</blockquote>
<h2 id="防火墙访问"><a href="#防火墙访问" class="headerlink" title="防火墙访问"></a>防火墙访问</h2><ul>
<li>By default MinIO uses the port <strong>9000</strong> to listen for incoming connections. If your platform blocks the port by default, you may need to enable access to the port.</li>
</ul>
<h3 id="firewall-cmd"><a href="#firewall-cmd" class="headerlink" title="firewall-cmd"></a>firewall-cmd</h3><ul>
<li><p>For hosts with <strong>firewall-cmd</strong> enabled (CentOS), you can use <code>firewall-cmd</code> command to allow traffic to specific ports. Use below commands to allow access to port 9000</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">firewall-cmd --get-active-zones<br></code></pre></td></tr></table></figure>
</li>
<li><p>This command gets the active zone(s). Now, apply port rules to the relevant zones returned above. For example if the zone is <code>public</code>, use</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">firewall-cmd --zone=public --add-port=9000/tcp --permanent<br></code></pre></td></tr></table></figure>

<blockquote>
<p>Note that <code>permanent</code> makes sure the rules are persistent across firewall start, restart or reload. Finally reload the firewall for changes to take effect.</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">firewall-cmd --reload<br></code></pre></td></tr></table></figure></li>
</ul>
<h3 id="iptables"><a href="#iptables" class="headerlink" title="iptables"></a>iptables</h3><ul>
<li><p>For hosts with <strong>iptables</strong> enabled (RHEL, CentOS, etc), you can use <code>iptables</code> command to enable all traffic coming to specific ports. Use below command to allow access to port 9000</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">iptables -A INPUT -p tcp --dport 9000 -j ACCEPT<br>service iptables restart<br></code></pre></td></tr></table></figure>
</li>
<li><p>Below command enables all incoming traffic to ports ranging from 9000 to 9010.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">iptables -A INPUT -p tcp --dport 9000:9010 -j ACCEPT<br>service iptables restart<br></code></pre></td></tr></table></figure></li>
</ul>
<h2 id="预先存在的数据"><a href="#预先存在的数据" class="headerlink" title="预先存在的数据"></a>预先存在的数据</h2><ul>
<li>When deployed on <strong>a single drive</strong>, MinIO server lets clients access any pre-existing data in the data directory. For example, if MinIO is started with the command <code>minio server /mnt/data</code>, any pre-existing data in the <code>/mnt/data</code> directory would be accessible to the clients.</li>
</ul>
<h2 id="测试连接"><a href="#测试连接" class="headerlink" title="测试连接"></a>测试连接</h2><h3 id="MinIO-Console"><a href="#MinIO-Console" class="headerlink" title="MinIO Console"></a>MinIO Console</h3><ul>
<li><p>MinIO Server comes with an embedded web based object browser. Point your web browser to <a target="_blank" rel="noopener" href="http://127.0.0.1:9000/">http://127.0.0.1:9000</a> to ensure your server has started successfully.</p>
<blockquote>
<p>NOTE: MinIO runs console on <strong>random port</strong> by default if you wish choose a specific port use <code>--console-address</code> to pick a specific interface and port.</p>
</blockquote>
</li>
<li><p>MinIO redirects browser access requests to the configured server port (i.e. <code>127.0.0.1:9000</code>) to the <strong>configured Console port</strong>. MinIO uses the hostname or IP address specified in the request when building the redirect URL. The URL and port must be accessible by the client for the redirection to work.</p>
</li>
<li><p>For deployments behind a <strong>load balancer</strong>, proxy, or ingress rule where <strong>the MinIO host IP address or port is not public</strong>, use the <code>MINIO_BROWSER_REDIRECT_URL</code> environment variable to specify the external hostname for the redirect. The LB&#x2F;Proxy must have rules for directing traffic to the Console port specifically.</p>
<ul>
<li>For example, consider a MinIO deployment behind a proxy <code>https://minio.example.net</code>, <code>https://console.minio.example.net</code> with rules for forwarding traffic on port :9000 and :9001 to MinIO and the MinIO Console respectively on the internal network. Set <code>MINIO_BROWSER_REDIRECT_URL</code> to <code>https://console.minio.example.net</code> to ensure the browser receives a valid reachable URL.</li>
</ul>
</li>
<li><p>Similarly, if your <strong>TLS certificates</strong> do not have the IP SAN for the MinIO server host, the MinIO Console may fail to validate the connection to the server. Use the <code>MINIO_SERVER_URL</code> environment variable and specify the proxy-accessible hostname of the MinIO server to allow the Console to use the MinIO server API using the TLS certificate. For example: <code>export MINIO_SERVER_URL=&quot;https://minio.example.net&quot;</code></p>
</li>
</ul>
<h3 id="mc"><a href="#mc" class="headerlink" title="mc"></a>mc</h3><ul>
<li><p><code>mc</code> provides a modern alternative to UNIX commands like ls, cat, cp, mirror, diff etc. It supports filesystems and Amazon S3 compatible cloud storage services. Follow the MinIO Client <a target="_blank" rel="noopener" href="https://docs.min.io/docs/minio-client-quickstart-guide">Quickstart Guide</a> for further instructions.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash">&#123;<br>        <span class="hljs-string">&quot;version&quot;</span>: <span class="hljs-string">&quot;10&quot;</span>,<br>        <span class="hljs-string">&quot;aliases&quot;</span>: &#123;<br>                <span class="hljs-string">&quot;minio&quot;</span>: &#123;<br>                        <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-string">&quot;http://192.168.100.8:9000&quot;</span>,<br>                        <span class="hljs-string">&quot;accessKey&quot;</span>: <span class="hljs-string">&quot;admin&quot;</span>,<br>                        <span class="hljs-string">&quot;secretKey&quot;</span>: <span class="hljs-string">&quot;admin1234&quot;</span>,<br>                        <span class="hljs-string">&quot;api&quot;</span>: <span class="hljs-string">&quot;S3v4&quot;</span>,<br>                        <span class="hljs-string">&quot;path&quot;</span>: <span class="hljs-string">&quot;auto&quot;</span><br>                &#125;<br>        &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker pull minio/mc<br>docker run -v /opt/mc:/root/.mc --<span class="hljs-built_in">rm</span> minio/mc <span class="hljs-built_in">ls</span> minio<br></code></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget https://dl.min.io/client/mc/release/linux-amd64/mc<br><span class="hljs-built_in">chmod</span> +x mc<br>./mc --<span class="hljs-built_in">help</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>To add one or more Amazon S3 compatible hosts, please follow the instructions below. <code>mc</code> stores all its configuration information in <code>~/.mc/config.json</code> file.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">mc <span class="hljs-built_in">alias</span> <span class="hljs-built_in">set</span> &lt;ALIAS&gt; &lt;YOUR-S3-ENDPOINT&gt; &lt;YOUR-ACCESS-KEY&gt; &lt;YOUR-SECRET-KEY&gt; --api &lt;API-SIGNATURE&gt; --path &lt;BUCKET-LOOKUP-TYPE&gt;<br></code></pre></td></tr></table></figure>

<ul>
<li><code>ALIAS</code> is simply a short name to your cloud storage service. <code>S3 end-point</code>, <code>access</code> and <code>secret keys</code> are supplied by your cloud storage provider. <code>API signature</code> is an optional argument. By default, it is set to “S3v4”.</li>
<li><code>Path</code> is an optional argument. It is used to indicate whether dns or path style url requests are supported by the server. It accepts “on”, “off” as valid values to enable&#x2F;disable path style requests.. By default, it is set to “auto” and SDK automatically determines the type of url lookup to use.</li>
</ul>
</li>
<li><p>MinIO server startup banner displays URL, access and secret keys.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">mc <span class="hljs-built_in">alias</span> <span class="hljs-built_in">set</span> minio http://192.168.100.8:9000 admin admin1234<br></code></pre></td></tr></table></figure></li>
</ul>
<h2 id="升级MinIO"><a href="#升级MinIO" class="headerlink" title="升级MinIO"></a>升级MinIO</h2><ul>
<li><p>Upgrades require zero downtime in MinIO, all upgrades are non-disruptive, all transactions on MinIO are atomic. So upgrading all the servers simultaneously is the recommended way to upgrade MinIO.</p>
</li>
<li><p>For deployments that installed the MinIO server binary by hand, use <a target="_blank" rel="noopener" href="https://docs.min.io/minio/baremetal/reference/minio-mc-admin/mc-admin-update.html"><code>mc admin update</code></a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">mc admin update &lt;minio <span class="hljs-built_in">alias</span>, e.g., myminio&gt;<br></code></pre></td></tr></table></figure>
</li>
<li><p>For deployments without external internet access, download the binary from <a target="_blank" rel="noopener" href="https://dl.min.io/">https://dl.min.io</a> and replace the existing MinIO binary let’s say for example <code>/opt/bin/minio</code>, apply executable permissions <code>chmod +x /opt/bin/minio</code> and do <code>mc admin service restart alias/</code>.</p>
</li>
<li><p>For RPM&#x2F;DEB installations, upgrade packages parallelly on all servers. Once upgraded, perform <code>systemctl restart minio</code> across all nodes in parallel. RPM&#x2F;DEB based installations are usually automated using <a target="_blank" rel="noopener" href="https://github.com/minio/ansible-minio"><code>ansible</code></a>.</p>
</li>
<li><p>升级期间要记住的重要事项</p>
<ul>
<li>Test all upgrades in a <strong>lower environment</strong> (DEV, QA, UAT) before applying to production. Performing blind upgrades in production environments carries significant risk.</li>
<li><strong>Read the release notes</strong> for the targeted MinIO release before performing any installation, there is no forced requirement to upgrade to latest releases every week. If it has a bug fix you are looking for then yes, else avoid actively upgrading a running production system.</li>
<li>Make sure MinIO process has <strong>write access</strong> to <code>/opt/bin</code> if you plan to use <code>mc admin update</code>. This is needed for MinIO to download the latest binary from <a target="_blank" rel="noopener" href="https://dl.min.io/">https://dl.min.io</a> and save it locally for upgrades.</li>
<li><code>mc admin update</code> is not supported in <strong>kubernetes&#x2F;container environments</strong>, container environments provide their own mechanisms for container updates.</li>
<li><strong>We do not recommend upgrading one MinIO server at a time, the product is designed to support parallel upgrades please follow our recommended guidelines.</strong></li>
</ul>
</li>
</ul>
<h1 id="分布式服务"><a href="#分布式服务" class="headerlink" title="分布式服务"></a>分布式服务</h1><ul>
<li><strong>Distributed MinIO</strong> can be deployed via <a target="_blank" rel="noopener" href="https://docs.min.io/docs/deploy-minio-on-docker-compose">Docker Compose</a>. This means <strong>Docker Compose</strong> lets you quickly get started with Distributed MinIO on your computer - ideal for <strong>development</strong>, testing, staging environments. We recommend <strong>kubernetes</strong> based deployment for <strong>production</strong> level deployment <a target="_blank" rel="noopener" href="https://github.com/minio/operator">https://github.com/minio/operator</a>.</li>
</ul>
<h1 id="Minio纠删码"><a href="#Minio纠删码" class="headerlink" title="Minio纠删码"></a>Minio纠删码</h1><ul>
<li>MinIO protects data against hardware failures and silent data corruption using <strong>erasure code</strong> and <strong>checksums</strong>. With the highest level of redundancy, you may lose up to half (N&#x2F;2) of the total drives and still be able to recover the data.</li>
</ul>
<h2 id="什么是ErasureCode"><a href="#什么是ErasureCode" class="headerlink" title="什么是ErasureCode"></a>什么是ErasureCode</h2><ul>
<li><p><strong>纠删码</strong>是一种恢复丢失和损坏数据的数学算法， Minio采用Reed-Solomon code将对象拆分成N&#x2F;2数据和N&#x2F;2 奇偶校验块。 这就意味着如果是12块盘，一个对象会被分成6个数据块、6个奇偶校验块，你可以丢失任意6块盘(不管其是存放的数据块还是奇偶校验块)，你仍可以从剩下的盘中的数据进行恢复。</p>
</li>
<li><p>纠删码的工作原理和RAID或者复制不同，像RAID6可以在损失两块盘的情况下不丢数据，而Minio纠删码可以在丢失一半的盘的情况下，仍可以保证数据安全。 而且Minio纠删码是作用在对象级别，可以一次恢复一个对象，而RAID是作用在卷级别，数据恢复时间很长。Minio对每个对象单独编码，存储服务一经部署，通常情况下是不需要更换硬盘或者修复。Minio纠删码的设计目标是为了性能和尽可能的使用硬件加速。</p>
<img src="https://uranus.ff666.cn/images/image-20220310114412349.png" srcset="/img/loading.gif" lazyload alt="image-20220310114412349" style="zoom:50%;" /></li>
</ul>
<h1 id="MinIO部署"><a href="#MinIO部署" class="headerlink" title="MinIO部署"></a>MinIO部署</h1><h1 id="MinIO客户端"><a href="#MinIO客户端" class="headerlink" title="MinIO客户端"></a>MinIO客户端</h1><h1 id="MinIO-SDKS"><a href="#MinIO-SDKS" class="headerlink" title="MinIO SDKS"></a>MinIO SDKS</h1>
            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/%E5%AD%98%E5%82%A8/">存储</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/MinIO/">MinIO</a>
                    
                  </div>
                
              </div>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/03/09/%E7%AE%A1%E7%90%86%E5%AD%A6/%E7%AE%A1%E7%90%86%E4%BF%A1%E6%81%AF%E7%B3%BB%E7%BB%9F/%E7%AC%AC%E4%BA%8C%E6%AC%A1%E8%AF%BE202200305/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">管理信息系统[第二次课20220305]</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/03/08/%E7%AE%A1%E7%90%86%E5%AD%A6/%E4%BA%BA%E5%8A%9B%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86/%E7%AC%AC%E4%B8%80%E6%AC%A1%E8%AF%BE20220226/">
                        <span class="hidden-mobile">人力资源管理[第一次课20220226]</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  
  <!-- 备案信息 -->
  <div class="beian">
    <span>
      <a href="http://beian.miit.gov.cn/" target="_blank" rel="nofollow noopener">
        粤ICP备2021057973号-1
      </a>
    </span>
    
      
        <span>
          <a
            href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=粤公网安备 44011602000613号"
            rel="nofollow noopener"
            class="beian-police"
            target="_blank"
          >
            
              <span style="visibility: hidden; width: 0">|</span>
              <img src="http://www.beian.gov.cn/portal/download" srcset="/img/loading.gif" lazyload alt="police-icon"/>
            
            <span>44011602000613</span>
          </a>
        </span>
      
    
  </div>


  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/js/local-search.js" ></script>



  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  






  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
        typing(title);
      
    })(window, document);
  </script>















<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
